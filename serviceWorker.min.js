const staticRunner="dev-runner-site-v1.17",assets=["./app/runner/","./app/runner/index.html","./app/runner/style.css","./app/runner/main.js","/favicon.ico","./app/runner/onyourmarksgetset.m4a","./app/runner/Loud_Gunshot.mp3"];function invokeServiceWorkerUpdateFlow(e){notification.show("New version of the app is available. Refresh now?"),notification.addEventListener("click",(()=>{e.waiting&&e.waiting.postMessage("SKIP_WAITING")}))}self.addEventListener("install",(e=>{e.waitUntil(caches.open(staticRunner).then((e=>{e.addAll(assets)})))})),self.addEventListener("fetch",(e=>{e.respondWith(caches.match(e.request).then((n=>n||fetch(e.request))))})),"serviceWorker"in navigator&&window.addEventListener("load",(async()=>{const e=await navigator.serviceWorker.register("/service-worker.js");e.waiting&&invokeServiceWorkerUpdateFlow(e),e.addEventListener("updatefound",(()=>{e.installing&&e.installing.addEventListener("statechange",(()=>{e.waiting&&navigator.serviceWorker.controller&&invokeServiceWorkerUpdateFlow(e)}))}));let n=!1;navigator.serviceWorker.addEventListener("controllerchange",(()=>{n||(window.location.reload(),n=!0)}))}));